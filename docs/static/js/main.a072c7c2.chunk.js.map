{"version":3,"sources":["contexts/JsonModalContext.tsx","contexts/LocationHashContext.tsx","contexts/SearchQueryContext.tsx","contexts/SnackbarContext.tsx","utils/fetch.ts","models/KarabinerJsonFile.ts","models/Category.ts","components/ImportButton.tsx","components/CategoryBox.tsx","components/JsonModal.tsx","components/SearchInput.tsx","components/Snackbar.tsx","components/TableOfContents.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["JsonModalContext","createContext","open","title","fetching","jsonString","setOpen","_open","openModal","_title","_jsonString","a","JsonModalContextProvider","props","useState","setTitle","setFetching","setJsonString","Provider","value","jsonUrl","fetch","response","json","JSON","stringify","console","error","children","LocationHashContext","hash","LocationHashContextProvider","window","location","substr","SearchQueryContext","query","setQuery","_","SearchQueryContextProvider","URLSearchParams","search","get","SnackbarContext","text","setText","SnackbarContextProvider","baseUrl","protocol","host","pathname","replace","KarabinerJsonFile","object","id","anchorUrl","this","path","undefined","substring","lastIndexOf","Category","files","map","f","ImportButton","jsonFile","jsonModalContext","useContext","snackbarContext","menuOpen","setMenuOpen","anchorRef","useRef","handleMenuClose","event","current","contains","target","importJson","url","encodeURIComponent","href","copyUrl","navigator","clipboard","writeText","openEditor","base64string","btoa","unescape","log","ButtonGroup","variant","ref","Button","size","sx","textTransform","onClick","stopPropagation","prevOpen","ArrowDropDown","Popper","anchorEl","transition","style","zIndex","TransitionProps","placement","Grow","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","MenuItem","nativeEvent","Divider","Code","marginRight","ContentCopy","Launch","color","CategoryBoxAccordion","styled","Accordion","disableGutters","elevation","square","theme","border","borderBottom","display","CategoryBoxAccordionSummary","AccordionSummary","expandIcon","ArrowForwardIosSharp","fontSize","backgroundColor","flexDirection","transform","marginLeft","spacing","alignItems","CategoryBox","category","locationHashContext","Box","p","position","top","name","unmountOnExit","ml","maintainers","m","Chip","label","Link","AccordionDetails","rules","r","i","Grid","container","direction","px","my","description","available_since","extra_description_path","width","src","left","bgcolor","boxShadow","JsonModal","handleClose","Fragment","Backdrop","drawer","CircularProgress","Modal","onClose","Typography","component","justifyContent","IconButton","Close","mt","minHeight","maxHeight","overflow","whiteSpace","SearchInput","searchQueryContext","setValue","submit","history","pushState","q","FormControl","OutlinedInput","placeholder","startAdornment","InputAdornment","Search","onChange","onKeyPress","e","key","onBlur","Snackbar","autoHideDuration","_event","reason","message","TableOfContents","categories","c","length","App","allCategories","setAllCategories","lunrIndex","setLunrIndex","setCategories","useEffect","then","res","result","index","example","flat","lunr","l","field","boost","forEach","extra_description_text","add","fileId","toLowerCase","filteredCategories","tokenizer","token","queryString","toString","term","wildcard","Query","LEADING","TRAILING","editDistance","push","AppBar","Toolbar","underline","fontWeight","OpenInNew","mr","Container","textAlign","Alert","severity","icon","InfoOutlined","find","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.a072c7c2.chunk.js","sourcesContent":["import React, { createContext, useState } from \"react\";\n\nexport const JsonModalContext = createContext({\n  open: false,\n  title: \"\",\n  fetching: false,\n  jsonString: \"\",\n\n  setOpen: (_open: React.SetStateAction<boolean>) => {},\n  openModal: async (_title: string, _jsonString: string) => {},\n});\n\nexport const JsonModalContextProvider = (props: {\n  children: React.ReactNode;\n}) => {\n  const [open, setOpen] = useState(false);\n  const [title, setTitle] = useState(\"\");\n  const [fetching, setFetching] = useState(false);\n  const [jsonString, setJsonString] = useState(\"\");\n\n  return (\n    <JsonModalContext.Provider\n      value={{\n        open,\n        title,\n        fetching,\n        jsonString,\n\n        setOpen,\n\n        openModal: async (title: string, jsonUrl: string) => {\n          setTitle(title);\n          setFetching(true);\n          setJsonString(\"\");\n\n          try {\n            const response = await fetch(jsonUrl);\n            const json = await response.json();\n            setJsonString(JSON.stringify(json, null, 2));\n          } catch (err) {\n            console.error(err);\n            setJsonString(`ERROR: Failed to fetch: ${jsonUrl}`);\n          }\n\n          setFetching(false);\n          setOpen(true);\n        },\n      }}\n    >\n      {props.children}\n    </JsonModalContext.Provider>\n  );\n};\n","import React, { createContext } from \"react\";\n\nexport const LocationHashContext = createContext({\n  hash: \"\",\n});\n\nexport const LocationHashContextProvider = (props: {\n  children: React.ReactNode;\n}) => {\n  return (\n    <LocationHashContext.Provider\n      value={{\n        hash: window.location.hash.substr(1),\n      }}\n    >\n      {props.children}\n    </LocationHashContext.Provider>\n  );\n};\n","import React, { createContext, useState } from \"react\";\n\nexport const SearchQueryContext = createContext({\n  query: \"\",\n  setQuery: (_: React.SetStateAction<string>) => {},\n});\n\nexport const SearchQueryContextProvider = (props: {\n  children: React.ReactNode;\n}) => {\n  const [query, setQuery] = useState(\n    new URLSearchParams(window.location.search).get(\"q\") ?? \"\"\n  );\n  return (\n    <SearchQueryContext.Provider\n      value={{\n        query,\n        setQuery,\n      }}\n    >\n      {props.children}\n    </SearchQueryContext.Provider>\n  );\n};\n","import React, { createContext, useState } from \"react\";\n\nexport const SnackbarContext = createContext({\n  text: \"\",\n  setText: (_: React.SetStateAction<string>) => {},\n});\n\nexport const SnackbarContextProvider = (props: {\n  children: React.ReactNode;\n}) => {\n  const [text, setText] = useState(\"\");\n\n  return (\n    <SnackbarContext.Provider\n      value={{\n        text,\n        setText,\n      }}\n    >\n      {props.children}\n    </SnackbarContext.Provider>\n  );\n};\n","export const baseUrl = () => {\n  switch (process.env.NODE_ENV) {\n    case \"development\":\n      return \"https://ke-complex-modifications.pqrs.org\";\n  }\n\n  return `${window.location.protocol}//${window.location.host}${window.location.pathname}`.replace(\n    /\\/$/,\n    \"\"\n  );\n};\n","import { KarabinerJsonFileObject } from \"../types\";\nimport { baseUrl } from \"../utils/fetch\";\n\nexport class KarabinerJsonFile {\n  readonly object: KarabinerJsonFileObject;\n  readonly id: string = \"\";\n  readonly jsonUrl: string = \"\";\n  readonly anchorUrl: string = \"\";\n\n  constructor(object: KarabinerJsonFileObject) {\n    this.object = object;\n\n    const path = object.path;\n    if (path !== undefined) {\n      let id = path.substring(path.lastIndexOf(\"/\") + 1);\n      if (id.lastIndexOf(\".\") !== -1) {\n        id = id.substring(0, id.lastIndexOf(\".\"));\n      }\n      this.id = id;\n\n      this.jsonUrl = `${baseUrl()}/${object.path}`;\n      this.anchorUrl = `${baseUrl()}/#${id}`;\n    }\n  }\n}\n","import { CategoryObject } from \"../types\";\nimport { KarabinerJsonFile } from \"./KarabinerJsonFile\";\n\nexport class Category {\n  readonly object: CategoryObject;\n  readonly files: KarabinerJsonFile[] = [];\n\n  constructor(object: CategoryObject) {\n    this.object = object;\n\n    if (object.files !== undefined) {\n      this.files = object.files.map((f) => new KarabinerJsonFile(f));\n    }\n  }\n}\n","import React, { useContext, useRef, useState } from \"react\";\nimport {\n  Button,\n  ButtonGroup,\n  ClickAwayListener,\n  Divider,\n  Grow,\n  Paper,\n  MenuList,\n  MenuItem,\n  Popper,\n} from \"@mui/material\";\nimport {\n  ArrowDropDown as ArrowDropDownIcon,\n  Code as CodeIcon,\n  ContentCopy as ContentCopyIcon,\n  Launch as LaunchIcon,\n} from \"@mui/icons-material\";\nimport { JsonModalContext, SnackbarContext } from \"../contexts\";\nimport { KarabinerJsonFile } from \"../models\";\n\nexport const ImportButton = ({ jsonFile }: { jsonFile: KarabinerJsonFile }) => {\n  const jsonModalContext = useContext(JsonModalContext);\n  const snackbarContext = useContext(SnackbarContext);\n\n  //\n  // Menu\n  //\n\n  const [menuOpen, setMenuOpen] = useState(false);\n  const anchorRef = useRef<HTMLDivElement>(null);\n\n  const handleMenuToggle = () => {\n    setMenuOpen((prevOpen) => !prevOpen);\n  };\n\n  const handleMenuClose = (event: Event) => {\n    if (\n      anchorRef.current &&\n      anchorRef.current.contains(event.target as HTMLElement)\n    ) {\n      return;\n    }\n\n    setMenuOpen(false);\n  };\n\n  const importJson = () => {\n    const url = encodeURIComponent(jsonFile.jsonUrl);\n    window.location.href = `karabiner://karabiner/assets/complex_modifications/import?url=${url}`;\n  };\n\n  const copyUrl = (url: string) => {\n    if (navigator.clipboard !== undefined) {\n      navigator.clipboard.writeText(url);\n      snackbarContext.setText(`You just copied: ${url}`);\n    } else {\n      snackbarContext.setText(`ERROR: Failed to copy: ${url}`);\n    }\n  };\n\n  const openEditor = async () => {\n    try {\n      const response = await fetch(jsonFile.jsonUrl);\n      const json = await response.json();\n      // To avoid Unicode Problem, escape string before btoa: https://developer.mozilla.org/en-US/docs/Glossary/Base64\n      const base64string = window.btoa(\n        unescape(encodeURIComponent(JSON.stringify(json)))\n      );\n      const url = `https://genesy.github.io/karabiner-complex-rules-generator/#${base64string}`;\n      window.open(url);\n    } catch (err) {\n      console.log(err);\n      snackbarContext.setText(\"ERROR: Failed to open editor\");\n    }\n  };\n\n  return (\n    <>\n      <ButtonGroup variant=\"contained\" ref={anchorRef}>\n        <Button\n          size=\"small\"\n          sx={{ textTransform: \"none\" }}\n          onClick={(event) => {\n            event.stopPropagation();\n            importJson();\n          }}\n        >\n          Import\n        </Button>\n\n        <Button\n          size=\"small\"\n          onClick={(event) => {\n            event.stopPropagation();\n            handleMenuToggle();\n          }}\n        >\n          <ArrowDropDownIcon />\n        </Button>\n      </ButtonGroup>\n\n      <Popper\n        open={menuOpen}\n        anchorEl={anchorRef.current}\n        transition\n        style={{ zIndex: 910 }}\n      >\n        {({ TransitionProps, placement }) => (\n          <Grow\n            {...TransitionProps}\n            style={{\n              transformOrigin:\n                placement === \"bottom\" ? \"center top\" : \"center bottom\",\n            }}\n          >\n            <Paper>\n              <ClickAwayListener onClickAway={handleMenuClose}>\n                <MenuList id=\"split-button-menu\">\n                  <MenuItem\n                    onClick={(event) => {\n                      event.stopPropagation();\n                      importJson();\n                      handleMenuClose(event.nativeEvent);\n                    }}\n                  >\n                    Import to Karabiner-Elements\n                  </MenuItem>\n                  <Divider />\n\n                  <MenuItem\n                    onClick={(event) => {\n                      event.stopPropagation();\n                      jsonModalContext.openModal(\n                        jsonFile.object.json?.title ?? \"\",\n                        jsonFile.jsonUrl\n                      );\n                      handleMenuClose(event.nativeEvent);\n                    }}\n                  >\n                    <CodeIcon sx={{ marginRight: 1 }} />\n                    <small>Show JSON</small>\n                  </MenuItem>\n\n                  <MenuItem\n                    onClick={(event) => {\n                      event.stopPropagation();\n                      copyUrl(jsonFile.anchorUrl);\n                      handleMenuClose(event.nativeEvent);\n                    }}\n                  >\n                    <ContentCopyIcon sx={{ marginRight: 1 }} />\n                    Copy URL\n                  </MenuItem>\n\n                  <MenuItem\n                    onClick={(event) => {\n                      event.stopPropagation();\n                      copyUrl(jsonFile.jsonUrl);\n                      handleMenuClose(event.nativeEvent);\n                    }}\n                  >\n                    <ContentCopyIcon sx={{ marginRight: 1 }} />\n                    Copy JSON URL\n                  </MenuItem>\n\n                  <MenuItem\n                    onClick={(event) => {\n                      event.stopPropagation();\n                      openEditor();\n                      handleMenuClose(event.nativeEvent);\n                    }}\n                  >\n                    <LaunchIcon sx={{ marginRight: 1 }} />\n                    Edit JSON (Open external site)\n                  </MenuItem>\n                </MenuList>\n              </ClickAwayListener>\n            </Paper>\n          </Grow>\n        )}\n      </Popper>\n    </>\n  );\n};\n","import React, { useContext } from \"react\";\nimport {\n  Accordion,\n  AccordionDetails,\n  AccordionProps,\n  AccordionSummary,\n  AccordionSummaryProps,\n  Box,\n  Chip,\n  Divider,\n  Grid,\n  Link,\n  styled,\n} from \"@mui/material\";\nimport { ArrowForwardIosSharp as ArrowForwardIosSharpIcon } from \"@mui/icons-material\";\nimport IframeResizer from \"iframe-resizer-react\";\nimport { LocationHashContext } from \"../contexts\";\nimport { Category } from \"../models\";\nimport { baseUrl } from \"../utils/fetch\";\nimport { ImportButton } from \"./ImportButton\";\n\nconst color = \"#28A745\";\n\nconst CategoryBoxAccordion = styled((props: AccordionProps) => (\n  <Accordion disableGutters elevation={0} square {...props} />\n))(({ theme }) => ({\n  border: `1px solid ${color}`,\n  \"&:not(:last-child)\": {\n    borderBottom: 0,\n  },\n  \"&:before\": {\n    display: \"none\",\n  },\n}));\n\nconst CategoryBoxAccordionSummary = styled((props: AccordionSummaryProps) => (\n  <AccordionSummary\n    expandIcon={<ArrowForwardIosSharpIcon sx={{ fontSize: \"0.9rem\" }} />}\n    {...props}\n  />\n))(({ theme }) => ({\n  backgroundColor: \"white\",\n  flexDirection: \"row-reverse\",\n  \"& .MuiAccordionSummary-expandIconWrapper.Mui-expanded\": {\n    transform: \"rotate(90deg)\",\n  },\n  \"& .MuiAccordionSummary-content\": {\n    marginLeft: theme.spacing(1),\n    alignItems: \"center\",\n  },\n}));\n\nexport const CategoryBox = ({ category }: { category: Category }) => {\n  const locationHashContext = useContext(LocationHashContext);\n\n  return (\n    <Box\n      sx={{\n        border: `1px solid ${color}`,\n      }}\n    >\n      <Box\n        sx={{\n          p: 2,\n          color: \"white\",\n          backgroundColor: color,\n          position: \"sticky\",\n          top: 0,\n          zIndex: 900,\n        }}\n      >\n        {category.object.name}\n      </Box>\n\n      {category.files.map((f) => {\n        if (locationHashContext.hash !== \"\") {\n          if (\n            // location.hash is not file id\n            locationHashContext.hash !== f.id &&\n            // location.hash is not category id\n            locationHashContext.hash !== category.object.id\n          ) {\n            return undefined;\n          }\n        }\n\n        return (\n          <CategoryBoxAccordion\n            id={f.id}\n            TransitionProps={{ unmountOnExit: true }}\n            key={f.id}\n          >\n            <CategoryBoxAccordionSummary>\n              {f.object.json?.title}\n\n              <Box sx={{ ml: \"auto\" }}>\n                {f.object.json?.maintainers &&\n                  f.object.json?.maintainers.map((m) => (\n                    <Chip\n                      label={\n                        <>\n                          Maintained by @\n                          <Link\n                            href={`https://github.com/${m}`}\n                            target=\"_blank\"\n                            onClick={(event) => event.stopPropagation()}\n                          >\n                            {m}\n                          </Link>\n                        </>\n                      }\n                      variant=\"outlined\"\n                      sx={{ marginRight: 2 }}\n                      key={`${f.id}-maintainers-${m}`}\n                    />\n                  ))}\n\n                <ImportButton jsonFile={f} />\n              </Box>\n            </CategoryBoxAccordionSummary>\n            <AccordionDetails>\n              {f.object.json?.rules?.map((r, i) => (\n                <Box key={`${f.id}-rules-${i}`}>\n                  <Grid\n                    container\n                    direction=\"row\"\n                    alignItems=\"center\"\n                    sx={{ px: 2, my: 1 }}\n                  >\n                    <Box>{r.description}</Box>\n                    <Box sx={{ ml: \"auto\" }}>\n                      {r.available_since && (\n                        <Chip\n                          label={`Karabiner-Elements ${r.available_since} or later`}\n                          variant=\"outlined\"\n                        />\n                      )}\n                    </Box>\n                  </Grid>\n\n                  {f.object.extra_description_path && (\n                    <Box\n                      key={`${f.id}-rules-extra-description-${f.object.extra_description_path}`}\n                    >\n                      <IframeResizer\n                        style={{ border: 0, width: \"100%\" }}\n                        src={`${baseUrl()}/build/${\n                          f.object.extra_description_path\n                        }`}\n                        title={f.object.extra_description_path}\n                      />\n                    </Box>\n                  )}\n\n                  <Divider />\n                </Box>\n              ))}\n            </AccordionDetails>\n          </CategoryBoxAccordion>\n        );\n      })}\n    </Box>\n  );\n};\n","import React, { useContext } from \"react\";\nimport {\n  Backdrop,\n  Box,\n  CircularProgress,\n  IconButton,\n  Modal,\n  Typography,\n} from \"@mui/material\";\nimport { Close as CloseIcon } from \"@mui/icons-material\";\nimport { JsonModalContext } from \"../contexts\";\n\nconst style = {\n  position: \"absolute\" as \"absolute\",\n  top: \"50%\",\n  left: \"50%\",\n  transform: \"translate(-50%, -50%)\",\n  width: \"90%\",\n  bgcolor: \"background.paper\",\n  border: \"2px solid #000\",\n  boxShadow: 24,\n  p: 4,\n};\n\nexport const JsonModal = () => {\n  const jsonModalContext = useContext(JsonModalContext);\n\n  const handleClose = () => {\n    jsonModalContext.setOpen(false);\n  };\n\n  return (\n    <React.Fragment>\n      <Backdrop\n        sx={{ color: \"#fff\", zIndex: (theme) => theme.zIndex.drawer + 1 }}\n        open={jsonModalContext.fetching}\n      >\n        <CircularProgress color=\"inherit\" />\n      </Backdrop>\n\n      <Modal\n        open={jsonModalContext.open}\n        onClose={handleClose}\n        aria-labelledby=\"modal-modal-title\"\n        aria-describedby=\"modal-modal-description\"\n      >\n        <Box sx={style}>\n          <Typography\n            id=\"modal-modal-title\"\n            variant=\"h6\"\n            component=\"h2\"\n            sx={{\n              display: \"flex\",\n              alignItems: \"center\",\n              justifyContent: \"space-between\",\n            }}\n          >\n            <Box> {jsonModalContext.title}</Box>\n            <IconButton onClick={handleClose}>\n              <CloseIcon />\n            </IconButton>\n          </Typography>\n          <Typography\n            id=\"modal-modal-description\"\n            sx={{\n              mt: 2,\n              minHeight: \"100px\",\n              maxHeight: \"calc(90vh - 40px)\",\n              overflow: \"auto\",\n              whiteSpace: \"pre-wrap\",\n            }}\n          >\n            {jsonModalContext.jsonString}\n          </Typography>\n        </Box>\n      </Modal>\n    </React.Fragment>\n  );\n};\n","import React, { useContext, useState } from \"react\";\nimport { Box, FormControl, InputAdornment, OutlinedInput } from \"@mui/material\";\nimport { Search as SearchIcon } from \"@mui/icons-material\";\nimport { SearchQueryContext } from \"../contexts\";\n\nexport const SearchInput = () => {\n  const searchQueryContext = useContext(SearchQueryContext);\n  const [value, setValue] = useState(searchQueryContext.query);\n\n  const submit = () => {\n    if (searchQueryContext.query !== value) {\n      searchQueryContext.setQuery(value);\n\n      window.history.pushState(\n        { q: value },\n        \"\",\n        \"?q=\" + encodeURIComponent(value)\n      );\n    }\n  };\n\n  return (\n    <Box>\n      <FormControl sx={{ width: \"50ch\" }} variant=\"outlined\">\n        <OutlinedInput\n          value={value}\n          placeholder=\"Search...\"\n          startAdornment={\n            <InputAdornment position=\"start\">\n              <SearchIcon />\n            </InputAdornment>\n          }\n          onChange={(event) => {\n            setValue(event.target.value);\n          }}\n          onKeyPress={(e) => {\n            if (e.key === \"Enter\") {\n              submit();\n            }\n          }}\n          onBlur={() => {\n            submit();\n          }}\n        />\n      </FormControl>\n    </Box>\n  );\n};\n","import React, { useContext } from \"react\";\nimport { Snackbar as MuiSnackbar } from \"@mui/material\";\nimport { SnackbarContext } from \"../contexts\";\n\nexport const Snackbar = () => {\n  const snackbarContext = useContext(SnackbarContext);\n\n  return (\n    <MuiSnackbar\n      open={snackbarContext.text !== \"\"}\n      autoHideDuration={3000}\n      onClose={(_event, reason) => {\n        if (reason === \"clickaway\") {\n          return;\n        }\n\n        snackbarContext.setText(\"\");\n      }}\n      message={snackbarContext.text}\n    />\n  );\n};\n","import React from \"react\";\nimport { Box, Chip, Divider, Grid, Link } from \"@mui/material\";\nimport { Category } from \"../models\";\n\nexport const TableOfContents = ({ categories }: { categories: Category[] }) => {\n  const color = \"black\";\n\n  return (\n    <Box\n      sx={{\n        border: `1px solid ${color}`,\n      }}\n    >\n      <Box\n        sx={{\n          p: 2,\n          color: \"white\",\n          backgroundColor: color,\n        }}\n      >\n        Table of Contents\n      </Box>\n\n      {categories.map((c) => {\n        return (\n          <Box key={c.object.id}>\n            <Grid\n              container\n              direction=\"row\"\n              alignItems=\"center\"\n              sx={{ px: 2, my: 1 }}\n            >\n              <Link href={`#${c.object.id}`}>{c.object.name}</Link>\n              <Box sx={{ ml: \"auto\" }}>\n                <Chip label={c.files.length} />\n              </Box>\n            </Grid>\n\n            <Divider />\n          </Box>\n        );\n      })}\n    </Box>\n  );\n};\n","import React, { useContext, useEffect, useState } from \"react\";\nimport {\n  Alert,\n  AppBar,\n  Box,\n  Button,\n  CircularProgress,\n  Container,\n  Grid,\n  Link,\n  Toolbar,\n  Typography,\n} from \"@mui/material\";\nimport {\n  InfoOutlined as InfoOutlinedIcon,\n  OpenInNew as OpenInNewIcon,\n} from \"@mui/icons-material\";\nimport lunr from \"lunr\";\nimport { LocationHashContext, SearchQueryContext } from \"./contexts\";\nimport { Category, KarabinerJsonFile } from \"./models\";\nimport { CategoryObject } from \"./types\";\nimport {\n  CategoryBox,\n  JsonModal,\n  TableOfContents,\n  SearchInput,\n  Snackbar,\n} from \"./components\";\nimport { baseUrl } from \"./utils/fetch\";\n\nconst App = () => {\n  const locationHashContext = useContext(LocationHashContext);\n  const searchQueryContext = useContext(SearchQueryContext);\n\n  const [fetching, setFetching] = useState(false);\n  const [allCategories, setAllCategories] = useState<Category[]>([]);\n  const [lunrIndex, setLunrIndex] = useState<lunr.Index>();\n  const [categories, setCategories] = useState<Category[]>([]);\n\n  //\n  // Fetch dist.json\n  //\n\n  useEffect(() => {\n    setFetching(true);\n\n    const url = `${baseUrl()}/build/dist.json`;\n\n    fetch(url)\n      .then((res) => res.json())\n      .then(\n        (result: { index: CategoryObject[]; example: CategoryObject[] }) => {\n          setAllCategories(\n            [\n              result.index.map((c) => new Category(c)),\n              result.example.map((c) => new Category(c)),\n            ].flat()\n          );\n        },\n        (error) => {\n          console.log(error);\n        }\n      )\n      .then(() => {\n        setFetching(false);\n      });\n  }, []);\n\n  //\n  // Update lunrIndex\n  //\n\n  useEffect(() => {\n    // Skip if lunrIndex is already built.\n    if (lunrIndex !== undefined) {\n      return;\n    }\n\n    // Skip if allCategories is not initialized.\n    if (allCategories.length === 0) {\n      return;\n    }\n\n    // Skip if search query is empty.\n    if (searchQueryContext.query === \"\") {\n      return;\n    }\n\n    setLunrIndex(\n      lunr((l) => {\n        l.ref(\"fileId\");\n        l.field(\"title\", { boost: 2 });\n        l.field(\"text\");\n\n        allCategories.forEach((c) => {\n          c.files.forEach((f) => {\n            let text = \"\";\n            if (f.object.json?.maintainers !== undefined) {\n              f.object.json?.maintainers.forEach((m) => {\n                text = `${text} ${m ?? \"\"}`;\n              });\n            }\n            f.object.json?.rules?.forEach((r) => {\n              text = `${text} ${r.description ?? \"\"}`;\n            });\n            text = `${text} ${f.object.extra_description_text ?? \"\"}`;\n\n            l.add({\n              fileId: f.id,\n              title: f.object.json?.title ?? \"\",\n              text: text.toLowerCase(),\n            });\n          });\n        });\n      })\n    );\n  }, [searchQueryContext.query, allCategories, lunrIndex]);\n\n  //\n  // Update categories\n  //\n\n  useEffect(() => {\n    if (allCategories.length === 0) {\n      return;\n    }\n\n    if (searchQueryContext.query === \"\") {\n      setCategories(allCategories);\n      return;\n    }\n\n    //\n    // Filter categories by search query\n    //\n\n    if (lunrIndex === undefined) {\n      setCategories([]);\n    } else {\n      const filteredCategories: Category[] = [\n        {\n          object: {\n            id: \"__search_result__\",\n            name: \"Search Result\",\n          },\n          files: [] as KarabinerJsonFile[],\n        },\n      ];\n\n      const results = lunrIndex.query((q) => {\n        lunr\n          .tokenizer(searchQueryContext.query.toLowerCase())\n          .forEach((token) => {\n            const queryString = token.toString();\n            q.term(queryString, {\n              boost: 100,\n            });\n            q.term(queryString, {\n              wildcard:\n                lunr.Query.wildcard.LEADING | lunr.Query.wildcard.TRAILING,\n              boost: 10,\n            });\n            q.term(queryString, {\n              editDistance: 2,\n            });\n          });\n      });\n\n      results.forEach((r) => {\n        const fileId = r.ref;\n\n        allCategories.forEach((c) => {\n          c.files.forEach((f) => {\n            if (f.id === fileId) {\n              filteredCategories[0].files.push(f);\n            }\n          });\n        });\n      });\n\n      setCategories(filteredCategories);\n    }\n  }, [searchQueryContext.query, allCategories, lunrIndex]);\n\n  return (\n    <React.Fragment>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Link href={`${baseUrl()}/`} color=\"inherit\" underline=\"none\">\n            <Typography sx={{ fontWeight: \"bold\" }}>\n              Karabiner-Elements complex_modifications rules\n            </Typography>\n          </Link>\n\n          {fetching && <CircularProgress color=\"inherit\" />}\n\n          <Link\n            href=\"https://github.com/pqrs-org/KE-complex_modifications\"\n            color=\"inherit\"\n            target=\"_blank\"\n            marginLeft=\"auto\"\n          >\n            <Grid container direction=\"row\" alignItems=\"center\">\n              <OpenInNewIcon sx={{ mr: 0.5 }} />\n              GitHub\n            </Grid>\n          </Link>\n        </Toolbar>\n      </AppBar>\n\n      <Container>\n        {/*\n         ** Search & Table of Contents\n         **/}\n        {locationHashContext.hash === \"\" && (\n          <>\n            <Box sx={{ mt: 4, textAlign: \"center\" }}>\n              <SearchInput />\n            </Box>\n\n            {searchQueryContext.query === \"\" && (\n              <Box sx={{ mt: 4 }}>\n                <TableOfContents categories={categories} />\n              </Box>\n            )}\n          </>\n        )}\n\n        {/*\n         ** Show all button\n         **/}\n        {locationHashContext.hash !== \"\" && (\n          <Box sx={{ mt: 2 }}>\n            <Alert variant=\"outlined\" severity=\"warning\" icon={false}>\n              <Box sx={{ display: \"flex\", alignItems: \"center\" }}>\n                <InfoOutlinedIcon sx={{ mr: 1 }} />\n                Rules are filtered by \"\n                <strong>{locationHashContext.hash}</strong>\".\n                <Button\n                  variant=\"contained\"\n                  component={Link}\n                  href={`${baseUrl()}/`}\n                  sx={{ ml: 2, textTransform: \"none\" }}\n                >\n                  Show all rules\n                </Button>\n              </Box>\n            </Alert>\n          </Box>\n        )}\n\n        {/*\n         ** Categories\n         **/}\n        {categories.map((c) => {\n          if (locationHashContext.hash !== \"\") {\n            if (\n              // location.hash is not category id\n              locationHashContext.hash !== c.object.id &&\n              // location.hash is not file id\n              c.files.find((f) => locationHashContext.hash === f.id) ===\n                undefined\n            ) {\n              return undefined;\n            }\n          }\n\n          return (\n            <Box sx={{ mt: 4 }} id={c.object.id} key={c.object.id}>\n              <CategoryBox category={c}></CategoryBox>\n            </Box>\n          );\n        })}\n      </Container>\n\n      <JsonModal />\n      <Snackbar />\n    </React.Fragment>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from \"web-vitals\";\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import(\"web-vitals\").then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { CssBaseline } from \"@mui/material\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport {\n  JsonModalContextProvider,\n  LocationHashContextProvider,\n  SearchQueryContextProvider,\n  SnackbarContextProvider,\n} from \"./contexts\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <JsonModalContextProvider>\n      <LocationHashContextProvider>\n        <SearchQueryContextProvider>\n          <SnackbarContextProvider>\n            <CssBaseline />\n            <App />\n          </SnackbarContextProvider>\n        </SearchQueryContextProvider>\n      </LocationHashContextProvider>\n    </JsonModalContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}